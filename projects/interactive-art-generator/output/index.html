<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Art Generator - ÂÖâ„ÅÆËªåË∑°„Ç¢„Éº„Éà</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background: #000;
            font-family: 'Arial', sans-serif;
            user-select: none;
        }
        
        #artCanvas {
            display: block;
            cursor: crosshair;
        }
        
        .controls {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 12px;
            z-index: 2000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .controls h3 {
            margin-bottom: 10px;
            color: #00ffff;
            text-shadow: 0 0 10px #00ffff;
        }
        
        .controls div {
            margin: 5px 0;
        }
        
        .status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 10px;
            font-size: 11px;
            z-index: 2000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mode-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 255, 255, 0.2);
            color: #00ffff;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            z-index: 2000;
            backdrop-filter: blur(10px);
            border: 2px solid #00ffff;
            text-shadow: 0 0 10px #00ffff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }
        
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ffff;
            font-size: 18px;
            z-index: 3000;
            text-shadow: 0 0 20px #00ffff;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .loading {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">
        Initializing Art Generator...
    </div>
    
    <canvas id="artCanvas"></canvas>
    
    <div class="controls">
        <h3>üé® Interactive Art Generator</h3>
        <div><strong>„Ç≠„ÉºÊìç‰Ωú:</strong></div>
        <div>1: Quantum Mode (ÈáèÂ≠êÊèèÁîª)</div>
        <div>2: Fluid Mode (ÊµÅ‰ΩìÊèèÁîª)</div>
        <div>3: Hybrid Mode (Ê∑∑ÂêàÊèèÁîª)</div>
        <div>C: Clear Canvas (ÁîªÈù¢„ÇØ„É™„Ç¢)</div>
        <div>B: Blend Mode (ÂêàÊàê„É¢„Éº„ÉâÂ§âÊõ¥)</div>
        <div>Space: Save (‰ΩúÂìÅ‰øùÂ≠ò)</div>
        <div><strong>„Éû„Ç¶„ÇπÊìç‰Ωú:</strong></div>
        <div>Wheel: Intensity (Âº∑Â∫¶Ë™øÊï¥)</div>
        <div>Ctrl+Wheel: Brush Size („Éñ„É©„Ç∑„Çµ„Ç§„Ç∫)</div>
    </div>
    
    <div class="mode-indicator" id="modeIndicator">
        QUANTUM MODE
    </div>
    
    <div class="status" id="status">
        Particles: 0 | FPS: 60 | Ready
    </div>

    <script type="module">
        import InteractiveArtGenerator from '../src/art-generator-app.js';
        
        class AppController {
            constructor() {
                this.app = null;
                this.lastFrameTime = 0;
                this.frameCount = 0;
                this.fps = 60;
                
                this.initializeApp();
            }
            
            async initializeApp() {
                try {
                    console.log('Initializing Interactive Art Generator...');
                    
                    this.app = new InteractiveArtGenerator('artCanvas');
                    
                    this.setupUIUpdates();
                    
                    document.getElementById('loading').style.display = 'none';
                    
                    console.log('Art Generator initialized successfully!');
                    this.showWelcomeMessage();
                    
                } catch (error) {
                    console.error('Failed to initialize Art Generator:', error);
                    document.getElementById('loading').textContent = 'Error loading application';
                }
            }
            
            setupUIUpdates() {
                const updateUI = () => {
                    if (this.app) {
                        const stats = this.app.getPerformanceStats();
                        
                        const modeIndicator = document.getElementById('modeIndicator');
                        modeIndicator.textContent = `${stats.renderMode.toUpperCase()} MODE`;
                        
                        const status = document.getElementById('status');
                        status.innerHTML = `
                            Particles: ${stats.particleCount} | 
                            FPS: ${this.fps} | 
                            Intensity: ${stats.intensity.toFixed(1)} | 
                            Brush: ${stats.brushSize.toFixed(0)}
                        `;
                    }
                    
                    this.calculateFPS();
                    requestAnimationFrame(updateUI);
                };
                
                requestAnimationFrame(updateUI);
            }
            
            calculateFPS() {
                const now = performance.now();
                const delta = now - this.lastFrameTime;
                
                this.frameCount++;
                
                if (this.frameCount % 60 === 0) {
                    this.fps = Math.round(1000 / (delta / 60));
                    this.frameCount = 0;
                }
                
                this.lastFrameTime = now;
            }
            
            showWelcomeMessage() {
                setTimeout(() => {
                    console.log(`
üé® Welcome to Interactive Art Generator!

Èù©Êñ∞ÁöÑ„Å™3„Å§„ÅÆÊèèÁîª„É¢„Éº„Éâ:
‚Ä¢ QUANTUM MODE: ÈáèÂ≠êÁöÑËªåË∑°ÂêàÊàê„Ç∑„Çπ„ÉÜ„É†
‚Ä¢ FLUID MODE: ÊµÅ‰ΩìÂäõÂ≠¶ÁöÑÊèèÁîª„Ç®„É≥„Ç∏„É≥  
‚Ä¢ HYBRID MODE: Ë§áÂêà„É¨„É≥„ÉÄ„É™„É≥„Ç∞„Ç∑„Çπ„ÉÜ„É†

„Éû„Ç¶„Çπ„ÇíÂãï„Åã„Åó„Å¶Áæé„Åó„ÅÑ„Ç¢„Éº„Éà„ÇíÂâµÈÄ†„Åó„Åæ„Åó„Çá„ÅÜÔºÅ
                    `);
                }, 1000);
            }
        }
        
        window.addEventListener('DOMContentLoaded', () => {
            new AppController();
        });
        
        window.addEventListener('error', (e) => {
            console.error('Application error:', e.error);
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            console.error('Unhandled promise rejection:', e.reason);
        });
    </script>
</body>
</html>